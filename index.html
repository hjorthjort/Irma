<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="stylesheets/bootstrap_flatly.css">
        <!-- Import jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <link type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">

        <!-- Plugin CSS -->
        <link rel="stylesheet" href="stylesheets/style.css" type="text/css">
        <link rel="stylesheet" href="stylesheets/animate.css" type="text/css">
        <link rel="stylesheet" href="materialize/css/materialize.css" type="text/css">

        <script src="js/wow.min.js"></script>
        <script>
            new WOW().init();
        </script>

        <title>Irma: Friendly and fast tech support</title>
    </head>
    <neck></neck>
    <body>
        <div class="jumbotron">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <h1>Jumbotron</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <p>This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>
                    <p><a class="btn btn-primary btn-lg">Learn more</a></p>
                </div>
            </div>
        </div>
        <section id="errands_section">
            <div class="container">
                <div id="errands_list" class="row">

                </div>
            </div>
        </section>
        <script>
            var description = "Lorem ipsum dolor sit amet, cu sit probo eirmod mnesarchum, at viris similique pri. Mei quaerendum theophrastus te. Duo ne ferri volumus adipisci. Te per meis solum alterum. Quo patrioque deterruisset an.";
            var soundfile = 'files/id001.mp3';
            var tags = ['monitor', 'wifi', 'crying', 'super powers', 'explorer', 'arch linux' ];
            var phone = "0763 16 22 40"

            addErrand(description, soundfile, tags, phone);
            addErrand(description, soundfile, tags, phone);
            addErrand(description, soundfile, tags, phone);
            addErrand(description, soundfile, tags, phone);
            addErrand(description, soundfile, tags, phone);
            addErrand(description, soundfile, tags, phone);

            function addErrand(description, soundfile, tags, phone) {
                //Create table element
                var newErrand = document.createElement("div");
                newErrand.classList.add("col-lg-6");

                //Create card
                var card = document.createElement("div");
                card.classList.add("row");

                //Create columns
                var cardCols = document.createElement("div");
                cardCols.classList.add("card", "blue-grey", "darken-1");

                //Create content holder
                var cardContent = document.createElement("div");
                cardContent.classList.add("card-content", "white-text");

                //Create card heading
                var cardTitleDiv = document.createElement("div");
                cardTitleDiv.classList.add("row");
                var cardTitle = document.createElement("span");
                cardTitle.classList.add("card-title", "col-lg-12");
                cardTitle.innerHTML = "Task";
                cardTitleDiv.appendChild(cardTitle);

                var cardTagsDiv = document.createElement("div");
                cardTagsDiv.classList.add("row");
                var cardTags = document.createElement("div");
                cardTags.classList.add("col-lg-12");
                cardTagsDiv.appendChild(cardTags);

                //add all tags, comma separated
                tags.forEach(function (element, index, array) {
                    var chip = document.createElement("div");
                    chip.classList.add("chip");
                    chip.innerHTML = element;
                    cardTags.appendChild(chip);
                });

                var cardLeft = document.createElement("div");
                cardLeft.classList.add("col-lg-4");

                var cardImageDiv = document.createElement("div");
                cardImageDiv.classList.add("row")
                var cardImage = document.createElement("img");
                cardImage.classList.add("wow", "bounceIn", "col-lg-12", "text-center");
                cardImage.setAttribute("src", "http://lorempixel.com/250/250/people");
                cardImage.setAttribute("data-wow-delay", ".2s");
                cardImageDiv.appendChild(cardImage);

                var cardButtonDiv = document.createElement("div");
                cardButtonDiv.classList.add("row");
                var cardButton = document.createElement("a");
                cardButton.classList.add("btn", "btn-info", "col-lg-12", "text-center");
                cardButton.setAttribute("style", "text-align: center");
                cardButton.innerHTML = "I can help!";
                cardButton.onclick = function () {
                    cardButton.innerHTML = phone;
                    cardButton.classList.remove("btn-info");
                    cardButton.classList.add("btn-success");
                };
                cardButtonDiv.appendChild(cardButton);

                var cardRight = document.createElement("div");
                cardRight.classList.add("col-lg-8");

                // create description
                var cardDescriptionDiv = document.createElement("div");
                cardDescriptionDiv.classList.add("row");
                var cardDescription = document.createElement("p");
                cardDescription.classList.add("col-lg-12");
                cardDescription.innerHTML = description;
                cardDescriptionDiv.appendChild(cardDescription);

                // create soundfile
                var cardSoundfileDiv = document.createElement("div");
                cardSoundfileDiv.classList.add("row");
                var cardSoundfile = document.createElement("audio");
                cardSoundfile.classList.add("col-lg-12", "text-center");
                //Display the audio with controls
                cardSoundfile.setAttribute("controls", "controls");
                var source = document.createElement("source");
                source.setAttribute("src", soundfile);
                source.setAttribute("type", "audio/mpeg");
                source.setAttribute("preload", "metadata");
                cardSoundfile.appendChild(source);
                cardSoundfileDiv.appendChild(cardSoundfile);


                //put the elements in each other
                cardLeft.appendChild(cardImageDiv);
                cardLeft.appendChild(cardButtonDiv);
                cardLeft.appendChild(cardSoundfileDiv);
                cardContent.appendChild(cardLeft);
                cardRight.appendChild(cardTitleDiv);
                cardRight.appendChild(cardDescriptionDiv);
                cardRight.appendChild(cardTagsDiv);
                cardContent.appendChild(cardRight);
                cardCols.appendChild(cardContent);
                card.appendChild(cardCols);
                newErrand.appendChild(card);
                $("#errands_list").append(newErrand);
            }
        </script>
    </body>
</html>
