<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="stylesheets/bootstrap_flatly.css">
        <!-- Import jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <link type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">

        <!-- Plugin CSS -->
        <link rel="stylesheet" href="stylesheets/style.css" type="text/css">
        <link rel="stylesheet" href="stylesheets/animate.css" type="text/css">
        <link rel="stylesheet" href="materialize/css/materialize.css" type="text/css">

        <script src="js/wow.min.js"></script>
        <script>
            new WOW().init();
        </script>

        <title>Irma: Friendly and fast tech support</title>
    </head>
    <neck></neck>
    <body>
        <div class="jumbotron">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <h1>Jumbotron</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <p>This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>
                    <p><a class="btn btn-primary btn-lg">Learn more</a></p>
                </div>
            </div>
        </div>
        <section id="errands_section">
            <div class="container">
                <div id="errands_list" class="row">

                </div>
            </div>
        </section>
        <script>
            var description = "Lorem ipsum dolor sit amet, cu sit probo eirmod mnesarchum, at viris similique pri. Mei quaerendum theophrastus te. Duo ne ferri volumus adipisci. Te per meis solum alterum. Quo patrioque deterruisset an.";
            var soundfile = 'files/id001.mp3';
            var tags = ['monitor', 'wifi', 'crying', 'super powers', 'explorer', 'arch linux' ];
            var phone = "0763 16 22 40"

            addErrand(description, soundfile, tags, phone);
            addErrand(description, soundfile, tags, phone);
            addErrand(description, soundfile, tags, phone);
            addErrand(description, soundfile, tags, phone);
            addErrand(description, soundfile, tags, phone);
            addErrand(description, soundfile, tags, phone);

            function addErrand(description, soundfile, tags, phone) {
                //Create table element
                var newErrand = document.createElement("div");
                newErrand.classList.add("col-lg-6");

                //Create card
                var panel = document.createElement("div");
                panel.classList.add("row");

                //Create columns
                var panelCols = document.createElement("div");
                panelCols.classList.add("card", "blue-grey", "darken-1");

                //Create content holder
                var panelContent = document.createElement("div");
                panelContent.classList.add("card-content", "white-text");

                //Create panel heading
                var panelTitleDiv = document.createElement("div");
                panelTitleDiv.classList.add("row");
                var panelTitle = document.createElement("span");
                panelTitle.classList.add("card-title", "col-lg-12");
                panelTitle.innerHTML = "Task";
                panelTitleDiv.appendChild(panelTitle);

                var panelTagsDiv = document.createElement("div");
                panelTagsDiv.classList.add("row");
                var panelTags = document.createElement("div");
                panelTags.classList.add("col-lg-12");
                panelTagsDiv.appendChild(panelTags);

                //add all tags, comma separated
                tags.forEach(function (element, index, array) {
                    var chip = document.createElement("div");
                    chip.classList.add("chip");
                    chip.innerHTML = element;
                    panelTags.appendChild(chip);
                });

                var panelLeft = document.createElement("div");
                panelLeft.classList.add("col-lg-4");

                var panelImageDiv = document.createElement("div");
                panelImageDiv.classList.add("row")
                var panelImage = document.createElement("img");
                panelImage.classList.add("wow", "bounceIn", "col-lg-12", "text-center");
                panelImage.setAttribute("src", "http://lorempixel.com/250/250/people");
                panelImage.setAttribute("data-wow-delay", ".2s");
                panelImageDiv.appendChild(panelImage);

                var panelButtonDiv = document.createElement("div");
                panelButtonDiv.classList.add("row");
                var panelButton = document.createElement("a");
                panelButton.classList.add("btn", "btn-info", "col-lg-12", "text-center");
                panelButton.setAttribute("style", "text-align: center");
                panelButton.innerHTML = "I can help!";
                panelButton.onclick = function () {
                    panelButton.innerHTML = phone;
                    panelButton.classList.remove("btn-info");
                    panelButton.classList.add("btn-success");
                };
                panelButtonDiv.appendChild(panelButton);

                var panelRight = document.createElement("div");
                panelRight.classList.add("col-lg-8");

                // create description
                var panelDescriptionDiv = document.createElement("div");
                panelDescriptionDiv.classList.add("row");
                var panelDescription = document.createElement("p");
                panelDescription.classList.add("col-lg-12");
                panelDescription.innerHTML = description;
                panelDescriptionDiv.appendChild(panelDescription);

                // create soundfile
                var panelSoundfileDiv = document.createElement("div");
                panelSoundfileDiv.classList.add("row");
                var panelSoundfile = document.createElement("audio");
                panelSoundfile.classList.add("col-lg-12", "text-center");
                //Display the audio with controls
                panelSoundfile.setAttribute("controls", "controls");
                var source = document.createElement("source");
                source.setAttribute("src", soundfile);
                source.setAttribute("type", "audio/mpeg");
                source.setAttribute("preload", "metadata");
                panelSoundfile.appendChild(source);
                panelSoundfileDiv.appendChild(panelSoundfile);


                //put the elements in each other
                panelLeft.appendChild(panelImageDiv);
                panelLeft.appendChild(panelButtonDiv);
                panelLeft.appendChild(panelSoundfileDiv);
                panelContent.appendChild(panelLeft);
                panelRight.appendChild(panelTitleDiv);
                panelRight.appendChild(panelDescriptionDiv);
                panelRight.appendChild(panelTagsDiv);
                panelContent.appendChild(panelRight);
                panelCols.appendChild(panelContent);
                panel.appendChild(panelCols);
                newErrand.appendChild(panel);
                $("#errands_list").append(newErrand);
            }
        </script>
    </body>
</html>
